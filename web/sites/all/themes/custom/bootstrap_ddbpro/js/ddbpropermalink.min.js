jQuery(document).ready(function() {
  jQuery('#ddbpropermalink').popover({
    placement: 'bottom',
    title: 'Stabiler Link',
    html: true,
    content: jQuery('#ddbpropermalinkcontent').html()
  }).on('click', function() {
    jQuery("#ddbpropermalinkinput").val(jQuery("#ddbpropermalinkinput").attr('placeholder'));
    jQuery("#ddbpropermalinkinput").click(function() {
      jQuery(this).select();
    });
    jQuery('#ddbpropermalinkcopybtn').bind('click', function() {
      var input = document.querySelector('#ddbpropermalinkinput');
      input.select();
      input.setSelectionRange(0, input.value.length + 1);
      try {
        document.execCommand('copy');
      } catch (err) {}
    });
    jQuery('html').on('click', function(e) {
      jQuery('#ddbpropermalink').each(function() {
        if (!jQuery(this).is(e.target) && jQuery(this).has(e.target).length === 0 && jQuery('.popover').has(e.target).length === 0) {
          jQuery(this).popover('hide').data('bs.popover').inState.click = false;
        }
      });
    });
  });
});
